<!DOCTYPE html>
<html>
<head>
    <title>FuwaFuwa Guild Wars Tracker - Member Stats</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
      // Parse URL parameters
      function getUrlParameter(name) {
        name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
        var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
        var results = regex.exec(location.search);
        return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
      }
      
      // Get member parameter to pass to iframe
      const member = getUrlParameter('member');
      const memberParam = member ? '&member=' + encodeURIComponent(member) : '';
      
      // Update iframe source with member parameter if present
      window.addEventListener('load', function() {
        const iframe = document.querySelector('iframe');
        if (member) {
          iframe.src = "https://script.google.com/macros/s/AKfycbw6tSqkFT9b3rFPLlf3YCBWbhYk0zqJdpokJqMFP2uX0MSK92vS4XU20FtDQ5PSsgE-/exec?page=member" + memberParam + "&v=1";
        }
      });
    </script>
    <!-- Rest of your head content -->
</head>
<body>
    <!-- Loading overlay -->
    <div class="loading-overlay">
        <div class="spinner"></div>
        <div class="loading-text">Loading FuwaFuwa GW Tracker...</div>
        <div class="loading-subtext">Please wait while data is being fetched</div>
    </div>
    
    <iframe src="https://script.google.com/macros/s/AKfycbw6tSqkFT9b3rFPLlf3YCBWbhYk0zqJdpokJqMFP2uX0MSK92vS4XU20FtDQ5PSsgE-/exec?page=member&v=1" allow="fullscreen" loading="lazy" width="100%" height="100%" id="contentFrame"></iframe>
</body>
</html>
